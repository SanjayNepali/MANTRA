# Generated by Django 5.2.7 on 2025-10-29 17:12

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='FanBadge',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('description', models.TextField()),
                ('badge_type', models.CharField(choices=[('achievement', 'Achievement'), ('milestone', 'Milestone'), ('special', 'Special Event'), ('loyalty', 'Loyalty'), ('collection', 'Collection')], max_length=20)),
                ('icon', models.CharField(max_length=50)),
                ('color', models.CharField(default='pink', max_length=20)),
                ('requirement_type', models.CharField(max_length=50)),
                ('requirement_value', models.IntegerField(default=1)),
                ('requirement_description', models.TextField()),
                ('points_value', models.IntegerField(default=10)),
                ('is_rare', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
            ],
            options={
                'verbose_name': 'Fan Badge',
                'verbose_name_plural': 'Fan Badges',
                'ordering': ['-points_value', 'name'],
            },
        ),
        migrations.CreateModel(
            name='FanReward',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField()),
                ('points_required', models.IntegerField(default=100)),
                ('reward_type', models.CharField(max_length=50)),
                ('reward_value', models.JSONField(default=dict)),
                ('is_active', models.BooleanField(default=True)),
                ('quantity_available', models.IntegerField(default=-1)),
                ('quantity_claimed', models.IntegerField(default=0)),
                ('min_fan_level', models.CharField(blank=True, max_length=20)),
                ('valid_from', models.DateTimeField(default=django.utils.timezone.now)),
                ('valid_until', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('celebrity_specific', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='fan_rewards', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Fan Reward',
                'verbose_name_plural': 'Fan Rewards',
                'ordering': ['points_required', 'name'],
            },
        ),
        migrations.CreateModel(
            name='FanRewardClaim',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('points_spent', models.IntegerField()),
                ('is_used', models.BooleanField(default=False)),
                ('used_at', models.DateTimeField(blank=True, null=True)),
                ('redemption_code', models.CharField(max_length=20, unique=True)),
                ('claimed_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('expires_at', models.DateTimeField(blank=True, null=True)),
                ('fan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reward_claims', to=settings.AUTH_USER_MODEL)),
                ('reward', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='claims', to='fans.fanreward')),
            ],
            options={
                'verbose_name': 'Fan Reward Claim',
                'verbose_name_plural': 'Fan Reward Claims',
                'ordering': ['-claimed_at'],
            },
        ),
        migrations.CreateModel(
            name='FanActivity',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('activity_type', models.CharField(choices=[('view', 'Viewed'), ('like', 'Liked'), ('comment', 'Commented'), ('share', 'Shared'), ('follow', 'Followed'), ('unfollow', 'Unfollowed'), ('join_club', 'Joined Club'), ('leave_club', 'Left Club'), ('purchase', 'Purchased'), ('attend_event', 'Attended Event'), ('subscription', 'Subscribed')], max_length=30)),
                ('description', models.TextField(blank=True)),
                ('target_type', models.CharField(default='unknown', max_length=50)),
                ('target_id', models.UUIDField(blank=True, null=True)),
                ('target_data', models.JSONField(blank=True, default=dict)),
                ('duration', models.IntegerField(blank=True, null=True)),
                ('device_type', models.CharField(blank=True, max_length=50)),
                ('location', models.CharField(blank=True, max_length=100)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('fan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='fan_activities', to=settings.AUTH_USER_MODEL)),
                ('target_user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='fan_activity_targets', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Fan Activity',
                'verbose_name_plural': 'Fan Activities',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['fan', '-created_at'], name='fans_fanact_fan_id_851513_idx'), models.Index(fields=['activity_type', 'target_type'], name='fans_fanact_activit_ea1c55_idx')],
            },
        ),
        migrations.CreateModel(
            name='FanBadgeEarned',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('earned_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('progress', models.IntegerField(default=100)),
                ('badge', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='earned_by', to='fans.fanbadge')),
                ('fan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='earned_badges', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Fan Badge Earned',
                'verbose_name_plural': 'Fan Badges Earned',
                'ordering': ['-earned_at'],
                'unique_together': {('fan', 'badge')},
            },
        ),
        migrations.CreateModel(
            name='FanCollection',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('item_name', models.CharField(max_length=200)),
                ('item_type', models.CharField(choices=[('photo', 'Photo'), ('video', 'Video'), ('autograph', 'Digital Autograph'), ('badge', 'Special Badge'), ('nft', 'NFT'), ('memorabilia', 'Digital Memorabilia')], max_length=20)),
                ('description', models.TextField(blank=True)),
                ('image', models.ImageField(blank=True, null=True, upload_to='collections/')),
                ('file_url', models.URLField(blank=True)),
                ('rarity', models.CharField(default='common', max_length=20)),
                ('estimated_value', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('is_tradeable', models.BooleanField(default=False)),
                ('acquired_date', models.DateTimeField(default=django.utils.timezone.now)),
                ('acquisition_method', models.CharField(max_length=50)),
                ('is_showcased', models.BooleanField(default=False)),
                ('display_order', models.IntegerField(default=0)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('celebrity', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='fan_collectibles', to=settings.AUTH_USER_MODEL)),
                ('fan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='collection', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Fan Collection Item',
                'verbose_name_plural': 'Fan Collection Items',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['fan', 'item_type'], name='fans_fancol_fan_id_7804f4_idx'), models.Index(fields=['is_showcased', 'display_order'], name='fans_fancol_is_show_4b30c8_idx')],
            },
        ),
        migrations.CreateModel(
            name='FanProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fan_level', models.CharField(choices=[('casual', 'Casual Fan'), ('dedicated', 'Dedicated Fan'), ('super', 'Super Fan'), ('ultimate', 'Ultimate Fan')], default='casual', max_length=20)),
                ('fan_since', models.DateField(default=django.utils.timezone.now)),
                ('is_verified_fan', models.BooleanField(default=False)),
                ('favorite_categories', models.JSONField(default=list)),
                ('interests', models.TextField(blank=True)),
                ('interests_list', models.JSONField(blank=True, default=list)),
                ('favorite_genres', models.JSONField(blank=True, default=list)),
                ('preferred_content_types', models.JSONField(blank=True, default=list)),
                ('current_streak', models.IntegerField(default=0)),
                ('longest_streak', models.IntegerField(default=0)),
                ('last_activity_date', models.DateField(blank=True, null=True)),
                ('engagement_score', models.FloatField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('loyalty_score', models.IntegerField(default=0)),
                ('loyalty_points', models.IntegerField(default=0)),
                ('total_interactions', models.IntegerField(default=0)),
                ('total_celebrities_followed', models.IntegerField(default=0)),
                ('total_fanclubs_joined', models.IntegerField(default=0)),
                ('total_events_attended', models.IntegerField(default=0)),
                ('total_merchandise_bought', models.IntegerField(default=0)),
                ('total_spent', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('collected_items', models.IntegerField(default=0)),
                ('merchandise_purchased', models.IntegerField(default=0)),
                ('events_attended', models.IntegerField(default=0)),
                ('badges', models.JSONField(blank=True, default=list)),
                ('achievements_unlocked', models.IntegerField(default=0)),
                ('notification_preferences', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('favorite_celebrities', models.ManyToManyField(blank=True, limit_choices_to={'user_type': 'celebrity'}, related_name='top_fans', to=settings.AUTH_USER_MODEL)),
                ('last_celebrity_followed', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='recent_fan_followers', to=settings.AUTH_USER_MODEL)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='fan_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-engagement_score', '-user__points'],
                'indexes': [models.Index(fields=['fan_level'], name='fans_fanpro_fan_lev_74bbdd_idx'), models.Index(fields=['engagement_score'], name='fans_fanpro_engagem_cb8af3_idx'), models.Index(fields=['current_streak'], name='fans_fanpro_current_f37984_idx')],
            },
        ),
        migrations.CreateModel(
            name='FanRecommendation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('recommendation_score', models.FloatField()),
                ('reason', models.CharField(max_length=200)),
                ('is_viewed', models.BooleanField(default=False)),
                ('is_followed', models.BooleanField(default=False)),
                ('viewed_at', models.DateTimeField(blank=True, null=True)),
                ('followed_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('expires_at', models.DateTimeField()),
                ('fan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='recommendations', to=settings.AUTH_USER_MODEL)),
                ('recommended_celebrity', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='recommended_to_fans', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-recommendation_score', '-created_at'],
                'indexes': [models.Index(fields=['fan', 'is_viewed'], name='fans_fanrec_fan_id_4b02ce_idx'), models.Index(fields=['-recommendation_score'], name='fans_fanrec_recomme_82b293_idx')],
                'unique_together': {('fan', 'recommended_celebrity')},
            },
        ),
        migrations.CreateModel(
            name='FanSubscriptionHistory',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('action', models.CharField(choices=[('subscribed', 'Subscribed'), ('renewed', 'Renewed'), ('upgraded', 'Upgraded'), ('downgraded', 'Downgraded'), ('cancelled', 'Cancelled'), ('expired', 'Expired')], max_length=20)),
                ('subscription_type', models.CharField(choices=[('basic', 'Basic'), ('premium', 'Premium'), ('vip', 'VIP')], max_length=20)),
                ('amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('payment_method', models.CharField(blank=True, max_length=50)),
                ('transaction_id', models.CharField(blank=True, max_length=100)),
                ('action_date', models.DateTimeField(default=django.utils.timezone.now)),
                ('valid_from', models.DateTimeField(blank=True, null=True)),
                ('valid_until', models.DateTimeField(blank=True, null=True)),
                ('notes', models.TextField(blank=True)),
                ('reason', models.CharField(blank=True, max_length=200)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('celebrity', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='fan_subscription_history', to=settings.AUTH_USER_MODEL)),
                ('fan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='subscription_history', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Fan Subscription History',
                'verbose_name_plural': 'Fan Subscription Histories',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['fan', '-created_at'], name='fans_fansub_fan_id_9749d5_idx'), models.Index(fields=['celebrity', 'action'], name='fans_fansub_celebri_a2774f_idx'), models.Index(fields=['action', '-created_at'], name='fans_fansub_action_39960f_idx')],
            },
        ),
        migrations.CreateModel(
            name='FanWishlist',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('item_type', models.CharField(choices=[('event', 'Event'), ('merchandise', 'Merchandise'), ('content', 'Premium Content'), ('subscription', 'Subscription')], max_length=20)),
                ('item_id', models.UUIDField()),
                ('item_name', models.CharField(max_length=200)),
                ('item_data', models.JSONField(blank=True, default=dict)),
                ('priority', models.CharField(choices=[('high', 'High'), ('medium', 'Medium'), ('low', 'Low')], default='medium', max_length=10)),
                ('notes', models.TextField(blank=True)),
                ('notify_on_discount', models.BooleanField(default=True)),
                ('notify_on_availability', models.BooleanField(default=True)),
                ('added_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('fan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='wishlist', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Fan Wishlist Item',
                'verbose_name_plural': 'Fan Wishlist Items',
                'ordering': ['-added_at'],
                'indexes': [models.Index(fields=['fan', 'item_type'], name='fans_fanwis_fan_id_daf13c_idx'), models.Index(fields=['priority', '-added_at'], name='fans_fanwis_priorit_9e4d7f_idx')],
            },
        ),
    ]
